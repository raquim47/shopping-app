{"ast":null,"code":"import _slicedToArray from\"/Users/admin/Desktop/shopping-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import styles from\"./css/Detail.module.css\";import{useNavigate,useParams}from\"react-router-dom\";import axios from\"axios\";import{addCart}from\"./../store\";import{useDispatch}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Detail=function Detail(){var _useParams=useParams(),gender=_useParams.gender,cate=_useParams.cate,id=_useParams.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),count=_useState4[0],setCount=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),size=_useState6[0],setSize=_useState6[1];var dispatch=useDispatch();var navigate=useNavigate();useEffect(function(){axios.get(\"https://raquim47.github.io/data/cozy/json/\".concat(gender,\"_\").concat(cate,\".json\")).then(function(res){return setData(res.data.find(function(item){return item.id===id;}));});},[]);var increaseCount=function increaseCount(){return function(){count?setCount(function(prev){return parseInt(prev)+1;}):setCount(1);};};var decreaseCount=function decreaseCount(){return function(){count>1&&setCount(function(prev){return parseInt(prev)-1;});};};var onClickAddCart=function onClickAddCart(e){e.preventDefault();if(cate!==\"accessory\"&&(!size||count<1)){alert(\"올바른 수량과 사이즈를 선택해주세요\");return;}dispatch(addCart({id:data.id,gender:data.gender,cate:data.cate,title:data.title,price:data.price,url:data.url,count:count,size:size}));navigate(\"/cart\");};return/*#__PURE__*/_jsx(\"div\",{className:styles.detail,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.detail__inner,children:[/*#__PURE__*/_jsx(\"section\",{className:styles.detail__left,children:/*#__PURE__*/_jsx(\"img\",{src:data.url})}),/*#__PURE__*/_jsx(\"section\",{className:styles.detail__right,children:/*#__PURE__*/_jsxs(\"form\",{className:styles.order_form,children:[/*#__PURE__*/_jsx(\"h3\",{children:data.title}),data.size&&/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.order_form__option,\" \").concat(styles.size),children:[/*#__PURE__*/_jsx(\"h4\",{children:\"size\"}),/*#__PURE__*/_jsx(\"ul\",{children:data.size&&data.size.map(function(sizeItem){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return setSize(sizeItem);},className:size===sizeItem?styles.active:null,children:sizeItem},sizeItem);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.order_form__option,children:[/*#__PURE__*/_jsx(\"h4\",{children:\"count\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.count_input,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:count,onChange:function onChange(e){setCount(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{className:styles.count_input__btn,children:[/*#__PURE__*/_jsx(\"div\",{onClick:increaseCount(),className:styles.count_input__up}),/*#__PURE__*/_jsx(\"div\",{onClick:decreaseCount(),className:styles.count_input__down})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.order_form__option,\" \").concat(styles.price),children:[/*#__PURE__*/_jsx(\"h4\",{children:\"price\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$ \",count>0&&data.price*count]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return onClickAddCart(e);},className:styles.order_form__submit_btn,children:\"Add Cart\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.detail__back,onClick:function onClick(){return navigate(\"/shop/\".concat(gender));},children:\"\\u2190\"})]})})]})});};export default Detail;","map":{"version":3,"names":["React","useEffect","useState","styles","useNavigate","useParams","axios","addCart","useDispatch","Detail","gender","cate","id","data","setData","count","setCount","size","setSize","dispatch","navigate","get","then","res","find","item","increaseCount","prev","parseInt","decreaseCount","onClickAddCart","e","preventDefault","alert","title","price","url","detail","detail__inner","detail__left","detail__right","order_form","order_form__option","map","sizeItem","active","count_input","target","value","count_input__btn","count_input__up","count_input__down","order_form__submit_btn","detail__back"],"sources":["/Users/admin/Desktop/shopping-app/src/routes/Detail.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styles from \"./css/Detail.module.css\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { addCart } from \"./../store\";\nimport { useDispatch } from \"react-redux\";\n\nconst Detail = () => {\n  const { gender, cate, id } = useParams();\n  const [data, setData] = useState([]);\n  const [count, setCount] = useState(1);\n  const [size, setSize] = useState(\"\");\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  useEffect(() => {\n    axios\n      .get(`https://raquim47.github.io/data/cozy/json/${gender}_${cate}.json`)\n      .then((res) => setData(res.data.find((item) => item.id === id)));\n  }, []);\n\n  const increaseCount = () => () => {\n    count ? setCount((prev) => parseInt(prev) + 1) : setCount(1);\n  };\n  const decreaseCount = () => () => {\n    count > 1 && setCount((prev) => parseInt(prev) - 1);\n  };\n\n  const onClickAddCart = (e) => {\n    e.preventDefault();\n    if (cate !== \"accessory\" && (!size || count < 1)) {\n      alert(\"올바른 수량과 사이즈를 선택해주세요\");\n      return;\n    }\n    dispatch(\n      addCart({\n        id: data.id,\n        gender: data.gender,\n        cate: data.cate,\n        title: data.title,\n        price: data.price,\n        url: data.url,\n        count: count,\n        size: size,\n      })\n    );\n    navigate(\"/cart\");\n  };\n\n  return (\n    <div className={styles.detail}>\n      {\n        <div className={styles.detail__inner}>\n          <section className={styles.detail__left}>\n            <img src={data.url}></img>\n          </section>\n          <section className={styles.detail__right}>\n            <form className={styles.order_form}>\n              <h3>{data.title}</h3>\n              {data.size && (\n                <div className={`${styles.order_form__option} ${styles.size}`}>\n                  <h4>size</h4>\n                  <ul>\n                    {data.size &&\n                      data.size.map((sizeItem) => (\n                        <li\n                          onClick={() => setSize(sizeItem)}\n                          className={size === sizeItem ? styles.active : null}\n                          key={sizeItem}\n                        >\n                          {sizeItem}\n                        </li>\n                      ))}\n                  </ul>\n                </div>\n              )}\n              <div className={styles.order_form__option}>\n                <h4>count</h4>\n                <div className={styles.count_input}>\n                  <input\n                    type=\"text\"\n                    value={count}\n                    onChange={(e) => {\n                      setCount(e.target.value);\n                    }}\n                  />\n                  <div className={styles.count_input__btn}>\n                    <div\n                      onClick={increaseCount()}\n                      className={styles.count_input__up}\n                    ></div>\n                    <div\n                      onClick={decreaseCount()}\n                      className={styles.count_input__down}\n                    ></div>\n                  </div>\n                </div>\n              </div>\n              <div className={`${styles.order_form__option} ${styles.price}`}>\n                <h4>price</h4>\n                <span>$ {count > 0 && data.price * count}</span>\n              </div>\n              <button\n                onClick={(e) => onClickAddCart(e)}\n                className={styles.order_form__submit_btn}\n              >\n                Add Cart\n              </button>\n              <div\n                className={styles.detail__back}\n                onClick={() => navigate(`/shop/${gender}`)}\n              >\n                ←\n              </div>\n            </form>\n          </section>\n        </div>\n      }\n    </div>\n  );\n};\n\nexport default Detail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}