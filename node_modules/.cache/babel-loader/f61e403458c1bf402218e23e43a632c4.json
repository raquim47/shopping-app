{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport styles from \"./css/Detail.module.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate, useHistory, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst Detail = () => {\n  _s();\n\n  const {\n    gender,\n    cate,\n    id\n  } = useParams(); // const history = useHistory();\n\n  const [data, setData] = useState([]);\n  const [count, setCount] = useState(1);\n  const [size, setSize] = useState(\"\");\n  const navigate = useNavigate();\n  useEffect(() => {\n    axios.get(`https://raquim47.github.io/data/cozy/json/${gender}_${cate}.json`).then(res => setData(res.data));\n  }, []);\n  const findData = data.find(item => item.id === parseInt(id));\n  console.log(data);\n  console.log(findData.url);\n\n  const increaseCount = () => () => {\n    count ? setCount(prev => parseInt(prev) + 1) : setCount(1);\n  };\n\n  const decreaseCount = () => () => {\n    count > 1 && setCount(prev => parseInt(prev) - 1);\n  };\n\n  const onSubmitBtn = e => {\n    e.preventDefault();\n\n    if (!size || count < 1) {\n      alert(\"올바른 수량과 사이즈를 선택해주세요\");\n      return;\n    }\n\n    navigate(\"/cart\");\n  }; // return (\n  //   <div className={styles.detail}>\n  //     {findData.id && <div className={styles.detail__inner}>\n  //       <div className={styles.detail__back}>←</div>\n  //       <section className={styles.detail__left}>\n  //         <img src={findData.url}></img>\n  //       </section>\n  //       <section className={styles.detail__right}>\n  //         <form className={styles.order_form}>\n  //           <h3>{findData.title}</h3>\n  //           {findData.size && (\n  //             <div className={`${styles.order_form__option} ${styles.size}`}>\n  //               <h4>size</h4>\n  //               <ul>\n  //                 {findData.size &&\n  //                   findData.size.map((sizeItem) => (\n  //                     <li\n  //                       onClick={() => setSize(sizeItem)}\n  //                       className={size === sizeItem && styles.active}\n  //                       key={sizeItem}\n  //                     >\n  //                       {sizeItem}\n  //                     </li>\n  //                   ))}\n  //               </ul>\n  //             </div>\n  //           )}\n  //           <div className={styles.order_form__option}>\n  //             <h4>count</h4>\n  //             <div className={styles.count_input}>\n  //               <input\n  //                 type=\"text\"\n  //                 value={count}\n  //                 onChange={(e) => {\n  //                   setCount(e.target.value);\n  //                 }}\n  //               />\n  //               <div className={styles.count_input__btn}>\n  //                 <div\n  //                   onClick={increaseCount()}\n  //                   className={styles.count_input__up}\n  //                 ></div>\n  //                 <div\n  //                   onClick={decreaseCount()}\n  //                   className={styles.count_input__down}\n  //                 ></div>\n  //               </div>\n  //             </div>\n  //           </div>\n  //           <div className={`${styles.order_form__option} ${styles.price}`}>\n  //             <h4>price</h4>\n  //             <span>$ {count > 0 && findData.price * count}</span>\n  //           </div>\n  //           <button\n  //             type=\"submit\"\n  //             onClick={(e) => onSubmitBtn(e)}\n  //             className={styles.order_form__submit_btn}\n  //           >\n  //             Add Cart\n  //           </button>\n  //         </form>\n  //       </section>\n  //     </div>}\n  //   </div>\n  // );\n\n};\n\n_s(Detail, \"NBT4/3EPqu8VLYeBKG8xZqYAQ74=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = Detail;\nexport default Detail;\n\nvar _c;\n\n$RefreshReg$(_c, \"Detail\");","map":{"version":3,"names":["React","useEffect","useRef","useState","styles","useDispatch","useSelector","useNavigate","useHistory","useParams","axios","Detail","gender","cate","id","data","setData","count","setCount","size","setSize","navigate","get","then","res","findData","find","item","parseInt","console","log","url","increaseCount","prev","decreaseCount","onSubmitBtn","e","preventDefault","alert"],"sources":["/Users/admin/Desktop/shopping-app/src/routes/Detail.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport styles from \"./css/Detail.module.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate, useHistory, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst Detail = () => {\n  const { gender, cate, id } = useParams();\n  // const history = useHistory();\n  const [data, setData] = useState([]);\n  const [count, setCount] = useState(1);\n  const [size, setSize] = useState(\"\");\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    axios\n      .get(\n        `https://raquim47.github.io/data/cozy/json/${gender}_${cate}.json`\n      )\n      .then((res) => setData(res.data));\n      \n  }, []);\n\n  const findData = data.find((item) => item.id === parseInt(id));\n  console.log(data);\n  console.log(findData.url);\n  const increaseCount = () => () => {\n    count ? setCount((prev) => parseInt(prev) + 1) : setCount(1);\n  };\n  const decreaseCount = () => () => {\n    count > 1 && setCount((prev) => parseInt(prev) - 1);\n  };\n\n  const onSubmitBtn = (e) => {\n    e.preventDefault();\n    if (!size || count < 1) {\n      alert(\"올바른 수량과 사이즈를 선택해주세요\");\n      return;\n    }\n    navigate(\"/cart\");\n  };\n\n  // return (\n  //   <div className={styles.detail}>\n  //     {findData.id && <div className={styles.detail__inner}>\n  //       <div className={styles.detail__back}>←</div>\n  //       <section className={styles.detail__left}>\n  //         <img src={findData.url}></img>\n  //       </section>\n  //       <section className={styles.detail__right}>\n  //         <form className={styles.order_form}>\n  //           <h3>{findData.title}</h3>\n  //           {findData.size && (\n  //             <div className={`${styles.order_form__option} ${styles.size}`}>\n  //               <h4>size</h4>\n  //               <ul>\n  //                 {findData.size &&\n  //                   findData.size.map((sizeItem) => (\n  //                     <li\n  //                       onClick={() => setSize(sizeItem)}\n  //                       className={size === sizeItem && styles.active}\n  //                       key={sizeItem}\n  //                     >\n  //                       {sizeItem}\n  //                     </li>\n  //                   ))}\n  //               </ul>\n  //             </div>\n  //           )}\n  //           <div className={styles.order_form__option}>\n  //             <h4>count</h4>\n  //             <div className={styles.count_input}>\n  //               <input\n  //                 type=\"text\"\n  //                 value={count}\n  //                 onChange={(e) => {\n  //                   setCount(e.target.value);\n  //                 }}\n  //               />\n  //               <div className={styles.count_input__btn}>\n  //                 <div\n  //                   onClick={increaseCount()}\n  //                   className={styles.count_input__up}\n  //                 ></div>\n  //                 <div\n  //                   onClick={decreaseCount()}\n  //                   className={styles.count_input__down}\n  //                 ></div>\n  //               </div>\n  //             </div>\n  //           </div>\n  //           <div className={`${styles.order_form__option} ${styles.price}`}>\n  //             <h4>price</h4>\n  //             <span>$ {count > 0 && findData.price * count}</span>\n  //           </div>\n  //           <button\n  //             type=\"submit\"\n  //             onClick={(e) => onSubmitBtn(e)}\n  //             className={styles.order_form__submit_btn}\n  //           >\n  //             Add Cart\n  //           </button>\n  //         </form>\n  //       </section>\n  //     </div>}\n  //   </div>\n  // );\n};\n\nexport default Detail;\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,EAAsBC,UAAtB,EAAkCC,SAAlC,QAAmD,kBAAnD;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,MAAM,GAAG,MAAM;EAAA;;EACnB,MAAM;IAAEC,MAAF;IAAUC,IAAV;IAAgBC;EAAhB,IAAuBL,SAAS,EAAtC,CADmB,CAEnB;;EACA,MAAM,CAACM,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACc,KAAD,EAAQC,QAAR,IAAoBf,QAAQ,CAAC,CAAD,CAAlC;EACA,MAAM,CAACgB,IAAD,EAAOC,OAAP,IAAkBjB,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAMkB,QAAQ,GAAGd,WAAW,EAA5B;EAEAN,SAAS,CAAC,MAAM;IACdS,KAAK,CACFY,GADH,CAEK,6CAA4CV,MAAO,IAAGC,IAAK,OAFhE,EAIGU,IAJH,CAISC,GAAD,IAASR,OAAO,CAACQ,GAAG,CAACT,IAAL,CAJxB;EAMD,CAPQ,EAON,EAPM,CAAT;EASA,MAAMU,QAAQ,GAAGV,IAAI,CAACW,IAAL,CAAWC,IAAD,IAAUA,IAAI,CAACb,EAAL,KAAYc,QAAQ,CAACd,EAAD,CAAxC,CAAjB;EACAe,OAAO,CAACC,GAAR,CAAYf,IAAZ;EACAc,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACM,GAArB;;EACA,MAAMC,aAAa,GAAG,MAAM,MAAM;IAChCf,KAAK,GAAGC,QAAQ,CAAEe,IAAD,IAAUL,QAAQ,CAACK,IAAD,CAAR,GAAiB,CAA5B,CAAX,GAA4Cf,QAAQ,CAAC,CAAD,CAAzD;EACD,CAFD;;EAGA,MAAMgB,aAAa,GAAG,MAAM,MAAM;IAChCjB,KAAK,GAAG,CAAR,IAAaC,QAAQ,CAAEe,IAAD,IAAUL,QAAQ,CAACK,IAAD,CAAR,GAAiB,CAA5B,CAArB;EACD,CAFD;;EAIA,MAAME,WAAW,GAAIC,CAAD,IAAO;IACzBA,CAAC,CAACC,cAAF;;IACA,IAAI,CAAClB,IAAD,IAASF,KAAK,GAAG,CAArB,EAAwB;MACtBqB,KAAK,CAAC,qBAAD,CAAL;MACA;IACD;;IACDjB,QAAQ,CAAC,OAAD,CAAR;EACD,CAPD,CA3BmB,CAoCnB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AACD,CArGD;;GAAMV,M;UACyBF,S,EAKZF,W;;;KANbI,M;AAuGN,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}